{% extends 'base.html' %}

{% block title %}Dashboard - Bellefu Radio{% endblock %}

{% block content %}
<h1>Your Dashboard</h1>

<p>Welcome back, <strong>{{ user.get_full_name|default:user.username }}</strong>!</p>

<!-- Profile Management -->
<h2>Profile Settings</h2>
<form method="POST" action="{% url 'update_profile' %}" style="max-width: 600px;">
    {% csrf_token %}
    <div class="form-group">
        <label for="first_name">First Name:</label>
        <input type="text" id="first_name" name="first_name" value="{{ user.first_name }}">
    </div>
    <div class="form-group">
        <label for="last_name">Last Name:</label>
        <input type="text" id="last_name" name="last_name" value="{{ user.last_name }}">
    </div>
    <div class="form-group">
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" value="{{ user.email }}">
    </div>
    <div class="form-group">
        <label for="location">Location:</label>
        <input type="text" id="location" name="location" value="{{ profile.location }}" placeholder="Your location">
    </div>
    <div class="form-group">
        <label for="bio">Bio:</label>
        <textarea id="bio" name="bio" rows="3" placeholder="Tell us about yourself">{{ profile.bio }}</textarea>
    </div>
    <div class="form-group" style="margin-bottom: 0;">
        <button type="submit" style="width: auto; padding: 10px 20px; background: #000; color: white; border: 1px solid #000; cursor: pointer;">
            Update Profile
        </button>
    </div>
</form>

<!-- Account Information -->
<h2>Account Information</h2>
<table>
    <tr>
        <th>Username:</th>
        <td>{{ user.username }}</td>
    </tr>
    <tr>
        <th>Email:</th>
        <td>{{ user.email|default:"Not provided" }}</td>
    </tr>
    <tr>
        <th>Member Since:</th>
        <td>{{ user.date_joined|date:"M d, Y" }}</td>
    </tr>
    <tr>
        <th>Location:</th>
        <td>{{ profile.location|default:"Not provided" }}</td>
    </tr>
</table>

<!-- Radiojar Integration Notice -->
<div class="card">
    <h3>ðŸ“Š Your Listening Data</h3>
    <p>Your listening history and statistics are now managed through Radiojar's analytics system. This provides more accurate and detailed insights into your listening habits.</p>
    <p><strong>Benefits of Radiojar Integration:</strong></p>
    <ul style="margin: 10px 0; padding-left: 20px;">
        <li>Real-time listening statistics</li>
        <li>Detailed program analytics</li>
        <li>Cross-platform listening history</li>
        <li>Enhanced user experience</li>
    </ul>
</div>

<!-- Quick Links -->
<h2>Quick Links</h2>
<div class="grid">
    <div class="card">
        <h3>Listen Live</h3>
        <p>Tune in to Bellefu Radio's live programming</p>
        <p><a href="{% url 'home' %}">Go to Home Page â†’</a></p>
    </div>
    <div class="card">
        <h3>Account Settings</h3>
        <p>Update your profile information and preferences</p>
        <p><em>Profile settings are available above</em></p>
    </div>
</div>

{% endblock %}